function m(s,t=300,i=!1){let e=null;const n=function(...o){const c=this;if(e&&clearTimeout(e),i){const l=!e;e=setTimeout(()=>e=null,t),l&&s.apply(c,o)}else e=setTimeout(()=>{s.apply(c,o),e=null},t)};return n.cancel=()=>{e&&(clearTimeout(e),e=null)},n}function v(s,t=200,i=!0){let e=0,n=null;return function(...o){const c=this,l=Date.now(),r=t-(l-e);r<=0?(n&&(clearTimeout(n),n=null),e=l,s.apply(c,o)):i&&!n&&(n=setTimeout(()=>{e=Date.now(),n=null,s.apply(c,o)},r))}}class f{constructor({duration:t=500,threshold:i=10,doubleClickDelay:e=250}={}){this.duration=t,this.threshold=i,this.doubleClickDelay=e,this.bindings=new Map,this.activeTimer=null}cancel(){this.activeTimer&&(clearTimeout(this.activeTimer),this.activeTimer=null)}bind(t,i){let e=0,n=0,o=0;const c=a=>{this.cancel(),!(Date.now()-o<this.doubleClickDelay)&&(e=a.clientX,n=a.clientY,this.activeTimer=setTimeout(()=>{i?.(a),this.activeTimer=null},this.duration))},l=a=>{if(!this.activeTimer)return;const d=a.clientX-e,h=a.clientY-n;Math.sqrt(d**2+h**2)>this.threshold&&this.cancel()},r=()=>{this.cancel(),o=Date.now()};t.addEventListener("pointerdown",c),t.addEventListener("pointermove",l),t.addEventListener("pointerup",r),t.addEventListener("pointercancel",r);const u=()=>{t.removeEventListener("pointerdown",c),t.removeEventListener("pointermove",l),t.removeEventListener("pointerup",r),t.removeEventListener("pointercancel",r),this.cancel(),this.bindings.delete(t)};return this.bindings.set(t,u),u}unbind(t){const i=this.bindings.get(t);i&&i()}unbindAll(){this.cancel();for(const t of this.bindings.values())t();this.bindings.clear()}}function T(s){let t=0;s.addEventListener("touchstart",i=>{const e=Date.now(),n=e-t;if(n>0&&n<300){i.preventDefault(),i.stopPropagation();return}t=e},{passive:!1})}export{f as LongPressEvent,m as debounce,T as preventDoubleTapZoom,v as throttle};
